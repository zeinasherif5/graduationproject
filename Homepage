import 'package:flutter/material.dart';

class HomePage extends StatefulWidget {
  const HomePage({super.key});

  @override
  _HomePageState createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {
  int _selectedIndex = 0;

  final List<Widget> _pages = [
    HomeScreen(),
    CourtsScreen(),
    NutritionScreen(),
    SessionsScreen(),
    AccountScreen(),
  ];

  void _onItemTapped(int index) {
    setState(() {
      _selectedIndex = index;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: _pages[_selectedIndex],
      bottomNavigationBar: BottomNavigationBar(
        items: const [
          BottomNavigationBarItem(icon: Icon(Icons.home), label: "Home"),
          BottomNavigationBarItem(icon: Icon(Icons.sports_tennis), label: "Courts"),
          BottomNavigationBarItem(icon: Icon(Icons.restaurant), label: "Nutrition"),
          BottomNavigationBarItem(icon: Icon(Icons.schedule), label: "Sessions"),
          BottomNavigationBarItem(icon: Icon(Icons.person), label: "Account"),
        ],
        currentIndex: _selectedIndex,
        selectedItemColor: Colors.black,
        unselectedItemColor: Colors.grey,
        showSelectedLabels: true,
        showUnselectedLabels: true,
        onTap: _onItemTapped,
      ),
    );
  }
}

class HomeScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      padding: const EdgeInsets.all(16.0),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          // App Bar
          AppBar(
            backgroundColor: Colors.white,
            elevation: 0,
            title: const Text("Hello, Ahmed!",
                style: TextStyle(fontSize: 24, fontWeight: FontWeight.bold)),
            actions: [
              Padding(
                padding: const EdgeInsets.only(right: 16.0),
                child: Icon(Icons.notifications, color: Colors.black),
              ),

            ],
          ),
          const SizedBox(height: 20),

          Container(
            padding: EdgeInsets.symmetric(horizontal: 12),
            decoration: BoxDecoration(
              color: Colors.grey[200],
              borderRadius: BorderRadius.circular(12),
            ),
            child: TextField(
              decoration: InputDecoration(
                icon: Icon(Icons.search, color: Colors.grey),
                hintText: "Search",
                border: InputBorder.none,
              ),
            ),
          ),
          const SizedBox(height: 20),

          // Sports Categories
          SizedBox(
            height: 85,
            child: ListView(
              scrollDirection: Axis.horizontal,
              children: [
                _buildCategory("Padel", "images/padel.png"),
                _buildCategory("Volleyball", "images/volleyball.png"),
                _buildCategory("Frisbee", "images/frisbee.png"),
                _buildCategory("Tennis", "images/tennis.png"),
              ],
            ),
          ),
          const SizedBox(height: 30),

          // Offers Section
          const Text("On the spot offers!",
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold)),
          const SizedBox(height: 10),
          _buildOffersSection(),

          const SizedBox(height: 10),

          // Courts List
          const Text("Yalla, Check available courts!",
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold)),
          const SizedBox(height: 10),
          _buildCourt("Goal", "Football-Padel-Tennis", "images/goal.png"),
          _buildCourt("Maze", "Football-Frisbee-Padel", "images/maze.png"),
          _buildCourt("RoyalX", "Padel-Squash-Tennis", "images/royal.png"),
          _buildCourt("Number 1", "Basketball-Volleyball", "images/number1.png"),
          _buildCourt("El7arifa", "Football", "images/harefa.png"),
          _buildCourt("Zohour Club", "Basketball-Football", "images/zohour.png"),
        ],
      ),
    );
  }

  Widget _buildCategory(String name, String imagePath) {
    return Padding(
      padding: const EdgeInsets.symmetric(horizontal: 8.0),
      child: Column(
        children: [
          CircleAvatar(
            backgroundImage: AssetImage(imagePath),
            radius: 30,
          ),
          const SizedBox(height: 5),
          Text(name, style: const TextStyle(fontSize: 14)),
        ],
      ),
    );
  }

  Widget _buildCourt(String name, String details, String imagePath) {
    return Card(
      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),
      child: ListTile(
        leading: Image.asset(imagePath, width: 50, height: 50),
        title: Text(name, style: const TextStyle(fontWeight: FontWeight.bold)),
        subtitle: Text(details),
      ),
    );
  }

  Widget _buildOffersSection() {
    return Column(
      children: [
        Row(
          mainAxisSize: MainAxisSize.max,
          children: [
            Padding(
              padding: EdgeInsetsDirectional.fromSTEB(21, 0, 0, 0),
              child: ClipRRect(
                borderRadius: BorderRadius.circular(8),
                child: Image.asset(
                  "images/basket.png",
                  width: 150,
                  height: 240,
                  fit: BoxFit.contain,
                ),
              ),
            ),
            SizedBox(width: 10),
            Column(
              children: [
                Padding(
                  padding: EdgeInsetsDirectional.fromSTEB(0, 0, 20, 0),
                  child: ClipRRect(
                    borderRadius: BorderRadius.circular(8),
                    child: Image.asset(
                      "images/discount.png",
                      width: 136,
                      height: 120,
                      fit: BoxFit.contain,
                    ),
                  ),
                ),
                SizedBox(height: 10),
                Padding(
                  padding: EdgeInsetsDirectional.fromSTEB(0, 0, 29, 0),
                  child: ClipRRect(
                    borderRadius: BorderRadius.circular(8),
                    child: Image.asset(
                      "images/promo.png",
                      width: 136,
                      height: 98,
                      fit: BoxFit.contain,
                    ),
                  ),
                ),
              ],
            ),
          ],
        ),
        SizedBox(height: 10),
        Align(
          alignment: Alignment.centerLeft,
          child: Container(
            width: 292,
            height: 99,
            decoration: BoxDecoration(
              color: Colors.grey,
              borderRadius: BorderRadius.circular(10),
            ),
          ),
        ),
      ],
    );
  }
}

// Placeholder screens for navigation
class CourtsScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text("Courts Screen"));
  }
}

class NutritionScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text("Nutrition Screen"));
  }
}

class SessionsScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text("Sessions Screen"));
  }
}

class AccountScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text("Account Screen"));
  }
}

void main() {
  runApp(MaterialApp(
    debugShowCheckedModeBanner: false,
    home: HomePage(),
  ));
}

